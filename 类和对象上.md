# 类和对象

## 类的定义

```c++
class A     //class为定义类的关键字 ，  A为类的名字；
{
    //类体由成员函数和成员变量组成；
    
};// 大括号后面有;号
```

### 类的定义有两种方法

1.成员函数的在类里面声明，在类外定义；

2.成员函数的声明和定义都放在类里面；



```c++
//在类外定义成员函数
class A
{
    void fast();   //声明
};

void A::fast()     //类外定义
{
    cout<<"c++"<<endl;
}
```

###c++实现封装的方式，将成员函数和成员变量封装在类里面，类里面的成员有  public(公有)   private（私有）  protected（保护）三种；



### 面试题：

#### c++中struct和class的区别是什么？

答：C++需要兼容C语言，所以C++中struct可以当成结构体去使用。另外C++中struct还可以用来定义类。 和class是定义类是一样的，区别是struct的成员默认访问方式是public，class默认访问方式 是private。



## this指针

```c++
class A
{
  void add(A*const this)   //this指针的写法
  {
  }
};
```

**this指针**是成员函数默认的第一个形参，由编译器自动添加，不写出来；

####C++编译器给每个“成员函数“增加了一个隐藏的指针参数，让该指 针指向当前对象(函数运行时调用该函数的对象)，在函数体中所有成员变量的操作，都是通过该指针去访 问。只不过所有的操作对用户是透明的，即用户不需要来传递，编译器自动完成。



## this指针的特性

####1. this指针的类型为     类类型 *  const;

#### 2.只能在成员函数的内部使用；

#### 3.this指针本质上是成员函数的第一个形参，对象调用函数时，将对象的地址作为实参传递给this指针；

#### 4.this指针作为成员函数的第一个形参，一般不写出来，由编译器通过ecx寄存器自动传递；

#### 5.this指针存在寄存器中，类的静态成员函数因为没有this指针，所以类的静态成员函数也就无法调用类的非静态成员变量；

#### 6.this指针可以为空；



## 类的对象大小的计算

#### 1.成员函数不计入大小计算	

#### 2.结构体内存对齐规则

#### 3.空类的大小为 1 个字节；



